import{r as g,u as E,j as t,m as p}from"./index-Cd59Ll8l.js";import{u as M}from"./use-in-view-DgWq7rUF.js";class x{constructor(r=0,s="Network Error"){this.status=r,this.text=s}}const O=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,r)=>Promise.resolve(localStorage.setItem(e,r)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},n={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:O()},w=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},F=(e,r="https://api.emailjs.com")=>{if(!e)return;const s=w(e);n.publicKey=s.publicKey,n.blockHeadless=s.blockHeadless,n.storageProvider=s.storageProvider,n.blockList=s.blockList,n.limitRate=s.limitRate,n.origin=s.origin||r},S=async(e,r,s={})=>{const a=await fetch(n.origin+e,{method:"POST",headers:s,body:r}),o=await a.text(),c=new x(a.status,o);if(a.ok)return c;throw c},R=(e,r,s)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!r||typeof r!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!s||typeof s!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},I=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},L=e=>e.webdriver||!e.languages||e.languages.length===0,T=()=>new x(451,"Unavailable For Headless Browser"),B=(e,r)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof r!="string")throw"The BlockList watchVariable has to be a string"},z=e=>!e.list?.length||!e.watchVariable,K=(e,r)=>e instanceof FormData?e.get(r):e[r],C=(e,r)=>{if(z(e))return!1;B(e.list,e.watchVariable);const s=K(r,e.watchVariable);return typeof s!="string"?!1:e.list.includes(s)},P=()=>new x(403,"Forbidden"),U=(e,r)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(r&&typeof r!="string")throw"The LimitRate ID has to be a non-empty string"},q=async(e,r,s)=>{const a=Number(await s.get(e)||0);return r-Date.now()+a},_=async(e,r,s)=>{if(!r.throttle||!s)return!1;U(r.throttle,r.id);const a=r.id||e;return await q(a,r.throttle,s)>0?!0:(await s.set(a,Date.now().toString()),!1)},H=()=>new x(429,"Too Many Requests"),D=async(e,r,s,a)=>{const o=w(a),c=o.publicKey||n.publicKey,m=o.blockHeadless||n.blockHeadless,i=o.storageProvider||n.storageProvider,h={...n.blockList,...o.blockList},b={...n.limitRate,...o.limitRate};return m&&L(navigator)?Promise.reject(T()):(R(c,e,r),I(s),s&&C(h,s)?Promise.reject(P()):await _(location.pathname,b,i)?Promise.reject(H()):S("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:c,service_id:e,template_id:r,template_params:s}),{"Content-type":"application/json"}))},A=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},J=e=>typeof e=="string"?document.querySelector(e):e,$=async(e,r,s,a)=>{const o=w(a),c=o.publicKey||n.publicKey,m=o.blockHeadless||n.blockHeadless,i=n.storageProvider||o.storageProvider,h={...n.blockList,...o.blockList},b={...n.limitRate,...o.limitRate};if(m&&L(navigator))return Promise.reject(T());const f=J(s);R(c,e,r),A(f);const l=new FormData(f);return C(h,l)?Promise.reject(P()):await _(location.pathname,b,i)?Promise.reject(H()):(l.append("lib_version","4.4.1"),l.append("service_id",e),l.append("template_id",r),l.append("user_id",c),S("/api/v1.0/email/send-form",l))},W={init:F,send:D,sendForm:$,EmailJSResponseStatus:x},y="email_sent_timestamps",X=5,Y=3600*1e3,k=e=>{const s=`; ${document.cookie}`.split(`; ${e}=`);return s.length===2&&s.pop()?.split(";").shift()||null},N=(e,r,s)=>{const a=new Date;a.setTime(a.getTime()+s*60*60*1e3),document.cookie=`${e}=${r};expires=${a.toUTCString()};path=/;SameSite=Strict`},Z=()=>{const e=g.useRef(null),r=g.useRef(null),s=M(e,{once:!0,amount:.2}),[a,o]=g.useState(!1),[c,m]=g.useState("idle"),{t:i}=E(),h=()=>{const d=Date.now(),u=k(y),j=(u?JSON.parse(decodeURIComponent(u)):[]).filter(V=>d-V<Y);return j.length>0&&N(y,encodeURIComponent(JSON.stringify(j)),1),j.length<X},b=()=>{const d=Date.now(),u=k(y),v=u?JSON.parse(decodeURIComponent(u)):[];v.push(d),N(y,encodeURIComponent(JSON.stringify(v)),1)},f=async d=>{if(d.preventDefault(),d.stopPropagation(),!a){if(!h()){m("ratelimit");return}o(!0),m("idle");try{await W.sendForm(void 0,void 0,r.current,void 0),b(),m("success"),r.current?.reset()}catch(u){console.error("EmailJS error:",u),m("error")}finally{o(!1)}}},l={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}};return t.jsx("section",{id:"contact",className:"py-20 bg-surface","aria-label":"Contact",children:t.jsxs("div",{className:"max-w-5xl mx-auto px-6",ref:e,children:[t.jsxs(p.div,{initial:{opacity:0,y:20},animate:s?{opacity:1,y:0}:{},transition:{duration:.5},className:"mb-12",children:[t.jsx("h2",{className:"text-3xl font-bold text-primary mb-2",children:i("contact.title")}),t.jsx("p",{className:"text-secondary",children:i("contact.subtitle")})]}),t.jsxs(p.div,{initial:"hidden",animate:s?"visible":"hidden",variants:{visible:{transition:{staggerChildren:.1}}},className:"grid lg:grid-cols-2 gap-10",children:[t.jsxs(p.div,{variants:l,className:"space-y-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("a",{href:"mailto:malinowski.konrad45@gmail.com",className:"flex items-center gap-4 p-4 border border-border rounded-xl hover:border-accent/30 transition-colors duration-150 group",children:[t.jsx("div",{className:"w-10 h-10 flex items-center justify-center text-accent",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted",children:i("contact.email")}),t.jsx("p",{className:"text-primary font-medium text-sm",children:"malinowski.konrad45@gmail.com"})]})]}),t.jsxs("a",{href:"https://github.com/konradxmalinowski",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-4 p-4 border border-border rounded-xl hover:border-accent/30 transition-colors duration-150 group",children:[t.jsx("div",{className:"w-10 h-10 flex items-center justify-center text-accent",children:t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:t.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12c0 4.42 2.865 8.17 6.839 9.49.5.092.682-.217.682-.482 0-.237-.008-.866-.013-1.7-2.782.603-3.369-1.34-3.369-1.34-.454-1.156-1.11-1.463-1.11-1.463-.908-.62.069-.608.069-.608 1.003.07 1.531 1.03 1.531 1.03.892 1.529 2.341 1.087 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.11-4.555-4.943 0-1.091.39-1.984 1.029-2.683-.103-.253-.446-1.27.098-2.647 0 0 .84-.269 2.75 1.025A9.578 9.578 0 0112 6.836c.85.004 1.705.114 2.504.336 1.909-1.294 2.747-1.025 2.747-1.025.546 1.377.203 2.394.1 2.647.64.699 1.028 1.592 1.028 2.683 0 3.842-2.339 4.687-4.566 4.935.359.309.678.919.678 1.852 0 1.336-.012 2.415-.012 2.743 0 .267.18.578.688.48C19.138 20.167 22 16.418 22 12c0-5.523-4.477-10-10-10z",clipRule:"evenodd"})})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted",children:i("contact.github")}),t.jsx("p",{className:"text-primary font-medium text-sm",children:"@konradxmalinowski"})]})]}),t.jsxs("a",{href:"https://linkedin.com/in/konradxmalinowski",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-4 p-4 border border-border rounded-xl hover:border-accent/30 transition-colors duration-150 group",children:[t.jsx("div",{className:"w-10 h-10 flex items-center justify-center text-accent",children:t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:t.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted",children:i("contact.linkedin")}),t.jsx("p",{className:"text-primary font-medium text-sm",children:"konradxmalinowski"})]})]})]}),t.jsx("p",{className:"text-sm text-muted",children:i("contact.availability")})]}),t.jsxs(p.form,{ref:r,onSubmit:f,variants:l,className:"space-y-5","aria-label":"Contact form",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-primary mb-1.5",children:i("contact.form.name")}),t.jsx("input",{type:"text",id:"name",name:"user_name",required:!0,className:"w-full px-4 py-2.5 rounded-lg bg-background text-primary border border-border focus:outline-none focus:ring-1 focus:ring-accent focus:border-accent transition-all text-sm",placeholder:i("contact.form.placeholder.name")})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-primary mb-1.5",children:i("contact.form.email")}),t.jsx("input",{type:"email",id:"email",name:"user_email",required:!0,className:"w-full px-4 py-2.5 rounded-lg bg-background text-primary border border-border focus:outline-none focus:ring-1 focus:ring-accent focus:border-accent transition-all text-sm",placeholder:i("contact.form.placeholder.email")})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-primary mb-1.5",children:i("contact.form.message")}),t.jsx("textarea",{id:"message",name:"message",required:!0,rows:5,className:"w-full px-4 py-2.5 rounded-lg bg-background text-primary border border-border focus:outline-none focus:ring-1 focus:ring-accent focus:border-accent transition-all resize-none text-sm",placeholder:i("contact.form.placeholder.message")})]}),t.jsx("button",{type:"submit",disabled:a,className:"px-6 py-2.5 bg-accent text-white font-medium rounded-lg hover:bg-accent-hover transition-colors duration-150 disabled:opacity-50 disabled:cursor-not-allowed text-sm",onClick:d=>{a&&(d.preventDefault(),d.stopPropagation())},children:a?t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),i("contact.form.sending")]}):i("contact.form.submit")}),t.jsxs("div",{className:"min-h-[48px]",role:"status","aria-live":"polite","aria-atomic":"true",children:[c==="success"&&t.jsx(p.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"text-sm text-green-600 bg-green-50 border border-green-200 rounded-lg px-4 py-3",children:i("contact.form.success")}),c==="error"&&t.jsx(p.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-lg px-4 py-3",children:i("contact.form.error")}),c==="ratelimit"&&t.jsx(p.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"text-sm text-amber-600 bg-amber-50 border border-amber-200 rounded-lg px-4 py-3",children:i("contact.form.ratelimit")})]})]})]})]})})};export{Z as default};
